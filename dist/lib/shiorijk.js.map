{"version":3,"sources":["webpack://ShioriJK/webpack/universalModuleDefinition","webpack://ShioriJK/webpack/bootstrap","webpack://ShioriJK/./lib/shiorijk.ts"],"names":[],"mappings":"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","file":"dist/lib/shiorijk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ShioriJK\"] = factory();\n\telse\n\t\troot[\"ShioriJK\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * SHIORI/2.x/3.x Protocol Parser/Builder/Container\n *\n * (C) 2014-2018 Narazaka : Licensed under The [Zlib License](https://narazaka.net/license/Zlib?2014-2018)\n */\n\n/** SHIORI/2.x/3.x method */\nexport type Method =\n  | \"GET\"\n  | \"NOTIFY\"\n  | \"GET Version\"\n  | \"GET Sentence\"\n  | \"GET Word\"\n  | \"GET Status\"\n  | \"TEACH\"\n  | \"GET String\"\n  | \"NOTIFY OwnerGhostName\"\n  | \"NOTIFY OtherGhostName\"\n  | \"TRANSLATE Sentence\";\n\n/** SHIORI protocol */\nexport type Protocol = \"SHIORI\";\n\n/** SHIORI version */\nexport type Version = \"2.0\" | \"2.2\" | \"2.3\" | \"2.4\" | \"2.5\" | \"2.6\" | \"3.0\";\n\n/**\n * SHIORI Protocol Message Container\n */\nexport namespace Message {\n  /** Message Containers' option */\n  export interface Options {\n    /** do not prepare default data by the constructor */\n    no_prepare?: boolean;\n  }\n\n  /** SHIORI Request Message like data */\n  export interface RequestLike {\n    /** request line */\n    request_line?: RequestLine | RequestLineLike;\n\n    /** request headers */\n    headers?: Headers.Request | { [name: string]: string };\n  }\n\n  /** SHIORI Request Message Container */\n  export class Request implements RequestLike {\n    /**\n     * RequestLine Container (ex. GET SHIORI/3.x)\n     */\n    request_line: RequestLine;\n\n    /** Headers Container */\n    headers: Headers.Request;\n\n    /**\n     * initialize request\n     * @param data request like data and options\n     */\n    constructor(data: RequestLike & Options = {}) {\n      const { request_line, headers, no_prepare } = data;\n\n      if (request_line == null) {\n        if (!no_prepare) this.request_line = new RequestLine();\n      } else if (request_line instanceof RequestLine) {\n        this.request_line = request_line;\n      } else {\n        this.request_line = new RequestLine(request_line);\n      }\n\n      if (headers == null) {\n        this.headers = new Headers.Request();\n      } else if (headers instanceof Headers.Request) {\n        this.headers = headers;\n      } else {\n        this.headers = new Headers.Request(headers);\n      }\n    }\n\n    /**\n     * Message to string\n     * @return message string\n     */\n    toString() {\n      return `${this.request_line}\\r\\n${this.headers}\\r\\n`;\n    }\n  }\n\n  /** SHIORI Response Message like data */\n  export interface ResponseLike {\n    /** status line */\n    status_line?: StatusLine | StatusLineLike;\n\n    /** response headers */\n    headers?: Headers.Response | { [name: string]: string };\n  }\n\n  /** SHIORI Response Message Container */\n  export class Response implements ResponseLike {\n    /** StatusLine Container */\n    status_line: StatusLine;\n\n    /** Headers Container */\n    headers: Headers.Response;\n\n    /**\n     * initialize response\n     * @param data response like data and options\n     */\n    constructor(data: ResponseLike & Options = {}) {\n      const { status_line, headers, no_prepare } = data;\n\n      if (status_line == null) {\n        if (!no_prepare) this.status_line = new StatusLine();\n      } else if (status_line instanceof StatusLine) {\n        this.status_line = status_line;\n      } else {\n        this.status_line = new StatusLine(status_line);\n      }\n\n      if (headers == null) {\n        this.headers = new Headers.Response();\n      } else if (headers instanceof Headers.Response) {\n        this.headers = headers;\n      } else {\n        this.headers = new Headers.Response(headers);\n      }\n    }\n\n    /**\n     * Message to string\n     * @return message string\n     */\n    toString() {\n      return `${this.status_line}\\r\\n${this.headers}\\r\\n`;\n    }\n  }\n}\n\n/** SHIORI Request Message's RequestLine like data */\nexport interface RequestLineLike {\n  /** method */\n  method?: Method;\n\n  /** protocol (default = \"SHIORI\") */\n  protocol?: Protocol;\n\n  /** version */\n  version?: Version;\n}\n\n/** SHIORI Request Message's RequestLine Container */\n// eslint-disable-next-line import/export\nexport class RequestLine implements RequestLineLike {\n  private readonly arguments: RequestLineLike = {};\n\n  /**\n   * initialize request line\n   * @param data request line like data\n   */\n  constructor(data: RequestLineLike = {}) {\n    const { method, protocol, version } = data;\n    if (method != null) {\n      this.method = method;\n    }\n    this.protocol = protocol || \"SHIORI\";\n    if (version != null) {\n      this.version = version;\n    }\n  }\n\n  /** request method */\n  get method(): Method | undefined {\n    return this.arguments.method;\n  }\n\n  set method(method: Method | undefined) {\n    if (method != null && this.version != null) {\n      this.validate_method_version(method, this.version);\n    } else if (method != null) {\n      switch (method) {\n        case \"GET\":\n        case \"NOTIFY\":\n        case \"GET Version\":\n        case \"GET Sentence\":\n        case \"GET Word\":\n        case \"GET Status\":\n        case \"TEACH\":\n        case \"GET String\":\n        case \"NOTIFY OwnerGhostName\":\n        case \"NOTIFY OtherGhostName\":\n        case \"TRANSLATE Sentence\":\n          break;\n        default:\n          throw new RequestLine.InvalidValueError(`Invalid protocol method : ${method}`);\n      }\n    }\n    this.arguments.method = method;\n  }\n\n  /** protocol */\n  get protocol(): Protocol | undefined {\n    return this.arguments.protocol;\n  }\n\n  set protocol(protocol: Protocol | undefined) {\n    if (protocol != null && protocol !== \"SHIORI\") {\n      throw new RequestLine.InvalidValueError(`Invalid protocol : ${protocol}`);\n    }\n    this.arguments.protocol = protocol;\n  }\n\n  /** version */\n  get version(): Version | undefined {\n    return this.arguments.version;\n  }\n\n  set version(version: Version | undefined) {\n    if (this.method != null && version != null) {\n      this.validate_method_version(this.method, version);\n    } else if (version != null) {\n      switch (version) {\n        case \"2.0\":\n        case \"2.2\":\n        case \"2.3\":\n        case \"2.4\":\n        case \"2.5\":\n        case \"2.6\":\n        case \"3.0\":\n          break;\n        default:\n          throw new RequestLine.InvalidValueError(`Invalid protocol version : ${version}`);\n      }\n    }\n    this.arguments.version = version;\n  }\n\n  /**\n   * validate\n   * @param method method\n   * @param version version\n   * @throw if invalid\n   */\n  // eslint-disable-next-line class-methods-use-this, complexity\n  validate_method_version(method: Method, version: Version) {\n    let is_valid = false;\n    switch (version) {\n      case \"2.0\":\n        switch (method) {\n          case \"GET Version\":\n          case \"NOTIFY OwnerGhostName\":\n          case \"GET Sentence\":\n          case \"GET Word\":\n          case \"GET Status\":\n            is_valid = true;\n        }\n        break;\n      case \"2.2\":\n        switch (method) {\n          case \"GET Sentence\":\n            is_valid = true;\n        }\n        break;\n      case \"2.3\":\n        switch (method) {\n          case \"NOTIFY OtherGhostName\":\n          case \"GET Sentence\":\n            is_valid = true;\n        }\n        break;\n      case \"2.4\":\n        switch (method) {\n          case \"TEACH\":\n            is_valid = true;\n        }\n        break;\n      case \"2.5\":\n        switch (method) {\n          case \"GET String\":\n            is_valid = true;\n        }\n        break;\n      case \"2.6\": // spec is unknown\n        switch (method) {\n          case \"GET Sentence\":\n          case \"GET Status\":\n          case \"GET String\":\n          case \"NOTIFY OwnerGhostName\":\n          case \"NOTIFY OtherGhostName\":\n          case \"GET Version\":\n          case \"TRANSLATE Sentence\":\n            is_valid = true;\n        }\n        break;\n      case \"3.0\":\n        switch (method) {\n          case \"GET\":\n          case \"NOTIFY\":\n            is_valid = true;\n        }\n    }\n    if (!is_valid) {\n      throw new RequestLine.InvalidValueError(`Invalid protocol method and version : ${method} SHIORI/${version}`);\n    }\n  }\n\n  /**\n   * Message to string\n   * @return message string\n   */\n  toString() {\n    return `${this.method} ${this.protocol}/${this.version}`;\n  }\n}\n\nconst RequestLineClass = RequestLine;\n\n// eslint-disable-next-line import/export, no-redeclare\nexport namespace RequestLine {\n  /** Invalid value error */\n  export class InvalidValueError extends Error {}\n}\n\n/** SHIORI Response Message's StatusLine like data */\nexport interface StatusLineLike {\n  /** status code */\n  code?: number;\n\n  /** protocol (default = \"SHIORI\") */\n  protocol?: Protocol;\n\n  /** version */\n  version?: Version;\n}\n\n/** SHIORI Response Message's StatusLine Container */\n// eslint-disable-next-line import/export\nexport class StatusLine implements StatusLineLike {\n  /** status messages for status codes */\n  message: { [code: number]: string };\n\n  private readonly arguments: StatusLineLike = {};\n\n  /**\n   * initialize status line\n   * @param data status line like data\n   */\n  constructor(data: StatusLineLike = {}) {\n    const { code, protocol, version } = data;\n    if (code != null) {\n      this.code = code;\n    }\n    this.protocol = protocol || \"SHIORI\";\n    if (version != null) {\n      this.version = version;\n    }\n  }\n\n  /** status code */\n  get code() {\n    return this.arguments.code;\n  }\n\n  set code(code) {\n    if (code != null && this.message[code] == null) {\n      throw new StatusLine.InvalidValueError(`Invalid response code : ${code}`);\n    }\n    this.arguments.code = code;\n  }\n\n  /** protocol */\n  get protocol(): Protocol | undefined {\n    return this.arguments.protocol;\n  }\n\n  set protocol(protocol: Protocol | undefined) {\n    if (protocol != null && protocol !== \"SHIORI\") {\n      throw new StatusLine.InvalidValueError(`Invalid protocol : ${protocol}`);\n    }\n    this.arguments.protocol = protocol;\n  }\n\n  /** version */\n  get version(): Version | undefined {\n    return this.arguments.version;\n  }\n\n  set version(version: Version | undefined) {\n    if (version != null) {\n      switch (version) {\n        case \"2.0\":\n        case \"2.2\":\n        case \"2.3\":\n        case \"2.4\":\n        case \"2.5\":\n        case \"2.6\":\n        case \"3.0\":\n          break;\n        default:\n          throw new StatusLine.InvalidValueError(`Invalid protocol version : ${version}`);\n      }\n    }\n    this.arguments.version = version;\n  }\n\n  /**\n   * Message to string\n   * @return message string\n   */\n  toString() {\n    return `${this.protocol}/${this.version} ${this.code} ${this.message[this.code as number]}`;\n  }\n}\n\nStatusLine.prototype.message = {\n  200: \"OK\",\n  204: \"No Content\",\n  310: \"Communicate\",\n  311: \"Not Enough\",\n  312: \"Advice\",\n  400: \"Bad Request\",\n  418: \"I'm a tea pot\",\n  500: \"Internal Server Error\",\n};\n\nconst StatusLineClass = StatusLine;\n\n// eslint-disable-next-line no-redeclare, import/export\nexport namespace StatusLine {\n  /** Invalid value error */\n  export class InvalidValueError extends Error {}\n}\n\n/** SHIORI Message Headers Container */\n// eslint-disable-next-line import/export\nexport class Headers {\n  /** headers */\n  header: { [name: string]: string | undefined };\n\n  /**\n   * initialize headers\n   * @param header headers\n   */\n  constructor(header: { [name: string]: string } = {}) {\n    this.header = header;\n  }\n\n  /**\n   * get header\n   * @param name header name\n   * @return header value\n   */\n  get(name: string) {\n    return this.header[name];\n  }\n\n  /**\n   * set header\n   *\n   * header will be deleted if value == undefined\n   * @param name header name\n   * @param value header value\n   * @return header value\n   */\n  set(name: string, value: string | undefined) {\n    if (value === undefined) {\n      delete this.header[name]; // eslint-disable-line @typescript-eslint/no-dynamic-delete\n    } else {\n      this.header[name] = value;\n    }\n\n    return value;\n  }\n\n  /**\n   * get header separated by \\x01 or some as an array\n   * @param name header name\n   * @param separator separator characters\n   * @return header values\n   */\n  get_separated(name: string, separator = \"\\x01\") {\n    const value = this.header[name];\n    // eslint-disable-next-line no-negated-condition\n    if (value != null) {\n      return value.split(separator);\n    }\n    return undefined;\n  }\n\n  /**\n   * set header separated by \\x01 or some as an array\n   * @param name header name\n   * @param value header values\n   * @param separator separator characters\n   * @return header value\n   */\n  set_separated(name: string, value: string[], separator = \"\\x01\") {\n    // eslint-disable-next-line no-return-assign\n    return (this.header[name] = value.join(separator));\n  }\n\n  /**\n   * get header separated by \\x02 and \\x01 or some as an array\n   * @param name header name\n   * @param separator1 first level separator characters\n   * @param separator2 second level separator characters\n   * @return header values\n   */\n  get_separated2(name: string, separator1 = \"\\x02\", separator2 = \"\\x01\") {\n    const value = this.header[name];\n    // eslint-disable-next-line no-negated-condition\n    if (value != null) {\n      return value.split(separator1).map(value1 => value1.split(separator2));\n    }\n    return undefined;\n  }\n\n  /**\n   * set header separated by \\x02 and \\x01 or some as an array\n   * @param name header name\n   * @param value header values\n   * @param separator1 first level separator characters\n   * @param separator2 second level separator characters\n   * @return header value\n   */\n  set_separated2(name: string, value: string[][], separator1 = \"\\x02\", separator2 = \"\\x01\") {\n    // eslint-disable-next-line no-return-assign\n    return (this.header[name] = value.map(value1 => value1.join(separator2)).join(separator1));\n  }\n\n  /**\n   * get Reference* headers\n   * @return Reference* header values\n   */\n  references() {\n    let reference_max_index = -1;\n    // forin for compatibility\n    // eslint-disable-next-line guard-for-in, no-restricted-syntax\n    for (const name in this.header) {\n      const result = /^Reference(\\d+)$/.exec(name);\n      if (result && reference_max_index < Number(result[1])) {\n        reference_max_index = Number(result[1]);\n      }\n    }\n    const references: Array<string | undefined> = new Array(reference_max_index + 1);\n    for (let index = 0; index <= reference_max_index; ++index) {\n      references[index] = this.header[`Reference${index}`];\n    }\n\n    return references;\n  }\n\n  /**\n   * check that headers are line feed free\n   * @throw if not\n   */\n  validate() {\n    // forin for compatibility\n    // eslint-disable-next-line guard-for-in, no-restricted-syntax\n    for (const name in this.header) {\n      const value = this.header[name];\n      if (`${value}`.match(/\\n/)) {\n        throw new Headers.InvalidValueError(`Invalid header value - line feed found : [${name}] : ${value}`);\n      }\n    }\n  }\n\n  /**\n   * Message to string\n   * @return message string\n   */\n  toString() {\n    this.validate();\n    let str = \"\";\n    // forin for compatibility\n    // eslint-disable-next-line guard-for-in, no-restricted-syntax\n    for (const name in this.header) {\n      const value = this.header[name];\n      str += `${name}: ${value}\\r\\n`;\n    }\n\n    return str;\n  }\n\n  /**\n   * Reference* header (SHIORI/2.2-2.6,3.x)\n   * @param index reference index\n   * @return header value\n   */\n  Reference(index: number) {\n    return this.get(`Reference${index}`);\n  }\n\n  /**\n   * Reference* header (SHIORI/2.2-2.6,3.x)\n   * @param index reference index\n   * @param separator separator characters\n   * @return header values\n   */\n  ReferenceSeparated(index: number, separator = \"\\x01\") {\n    return this.get_separated(`Reference${index}`, separator) || [];\n  }\n\n  /**\n   * Reference* header (SHIORI/2.2-2.6,3.x)\n   * @param index reference index\n   * @param separator1 first level separator characters\n   * @param separator2 second level separator characters\n   * @return header values\n   */\n  ReferenceSeparated2(index: number, separator1 = \"\\x02\", separator2 = \"\\x01\") {\n    return this.get_separated2(`Reference${index}`, separator1, separator2) || [];\n  }\n}\n\n// eslint-disable-next-line no-redeclare, import/export\nexport namespace Headers {\n  /** Invalid value error */\n  export class InvalidValueError extends Error {}\n\n  /** SHIORI Request Message Headers Container */\n  export class Request extends Headers {\n    /** Charset header */\n    get Charset() {\n      return this.get(\"Charset\");\n    }\n\n    set Charset(value) {\n      this.set(\"Charset\", value);\n    }\n\n    /** Sender header */\n    get Sender() {\n      return this.get(\"Sender\");\n    }\n\n    set Sender(value) {\n      this.set(\"Sender\", value);\n    }\n\n    /** SecurityLevel header (SHIORI/2.2,2.6,3.x) */\n    get SecurityLevel() {\n      return this.get(\"SecurityLevel\");\n    }\n\n    set SecurityLevel(value) {\n      this.set(\"SecurityLevel\", value);\n    }\n\n    /** ID header (SHIORI/2.5,3.x) */\n    get ID() {\n      return this.get(\"ID\");\n    }\n\n    set ID(value) {\n      this.set(\"ID\", value);\n    }\n\n    /** Event header (SHIORI/2.2) */\n    get Event() {\n      return this.get(\"Event\");\n    }\n\n    set Event(value) {\n      this.set(\"Event\", value);\n    }\n\n    /** Type header (GET Word SHIORI/2.0) */\n    get Type() {\n      return this.get(\"Type\");\n    }\n\n    set Type(value) {\n      this.set(\"Type\", value);\n    }\n\n    /** Status header (SHIORI/3.1) */\n    get Status() {\n      return this.get_separated(\"Status\", \",\") || [];\n    }\n\n    set Status(value) {\n      this.set_separated(\"Status\", value, \",\");\n    }\n\n    /** Ghost header (NOTIFY OwnerGhostName SHIORI/2.0,2.3) */\n    get Ghost() {\n      return this.get(\"Ghost\");\n    }\n\n    set Ghost(value) {\n      this.set(\"Ghost\", value);\n    }\n\n    /** Sentence header (SHIORI/2.0,2.3b) */\n    get Sentence() {\n      return this.get(\"Sentence\");\n    }\n\n    set Sentence(value) {\n      this.set(\"Sentence\", value);\n    }\n\n    /** To header (SHIORI/2.3b) */\n    get To() {\n      return this.get(\"To\");\n    }\n\n    set To(value) {\n      this.set(\"To\", value);\n    }\n\n    /** Age header (SHIORI/2.3b) */\n    get Age() {\n      const age = this.get(\"Age\");\n\n      return age == null ? undefined : Number(age);\n    }\n\n    set Age(value) {\n      this.set(\"Age\", value == null ? undefined : value.toString());\n    }\n\n    /** Surface header (SHIORI/2.3b) */\n    get Surface() {\n      return (this.get_separated(\"Surface\", \",\") || []).map(Number);\n    }\n\n    set Surface(value) {\n      this.set_separated(\n        \"Surface\",\n        value.map(elem => elem.toString()),\n        \",\",\n      );\n    }\n\n    /** Word header (TEACH SHIORI/2.4) */\n    get Word() {\n      return this.get(\"Word\");\n    }\n\n    set Word(value) {\n      this.set(\"Word\", value);\n    }\n  }\n\n  /** SHIORI Response Message Headers Container */\n  export class Response extends Headers {\n    /**\n     * String header (GET String SHIORI/2.5)\n     * @param separator separator characters\n     * @return header values\n     */\n    StringSeparated(separator = \"\\x01\") {\n      return this.get_separated(\"String\", separator) || [];\n    }\n\n    /**\n     * set String header (GET String SHIORI/2.5)\n     * @param value header values\n     * @param separator separator characters\n     * @return header value\n     */\n    setStringSeparated(value: string[], separator = \"\\x01\") {\n      return this.set_separated(\"String\", value, separator);\n    }\n\n    /**\n     * String header (GET String SHIORI/2.5)\n     * @param separator1 first level separator characters\n     * @param separator2 second level separator characters\n     * @return header values\n     */\n    StringSeparated2(separator1 = \"\\x02\", separator2 = \"\\x01\") {\n      return this.get_separated2(\"String\", separator1, separator2) || [];\n    }\n\n    /**\n     * set String header (GET String SHIORI/2.5)\n     * @param value header values\n     * @param separator1 first level separator characters\n     * @param separator2 second level separator characters\n     * @return header value\n     */\n    setStringSeparated2(value: string[][], separator1 = \"\\x02\", separator2 = \"\\x01\") {\n      return this.set_separated2(\"String\", value, separator1, separator2);\n    }\n\n    /**\n     * Value header (GET SHIORI/3.0)\n     * @param separator separator characters\n     * @return header values\n     */\n    ValueSeparated(separator = \"\\x01\") {\n      return this.get_separated(\"Value\", separator) || [];\n    }\n\n    /**\n     * set Value header (GET SHIORI/3.0)\n     * @param value header values\n     * @param separator separator characters\n     * @return header value\n     */\n    setValueSeparated(value: string[], separator = \"\\x01\") {\n      return this.set_separated(\"Value\", value, separator);\n    }\n\n    /**\n     * Value header (GET SHIORI/3.0)\n     * @param separator1 first level separator characters\n     * @param separator2 second level separator characters\n     * @return header values\n     */\n    ValueSeparated2(separator1 = \"\\x02\", separator2 = \"\\x01\") {\n      return this.get_separated2(\"Value\", separator1, separator2) || [];\n    }\n\n    /**\n     * set Value header (GET SHIORI/3.0)\n     * @param value header values\n     * @param separator1 first level separator characters\n     * @param separator2 second level separator characters\n     * @return header values\n     */\n    setValueSeparated2(value: string[][], separator1 = \"\\x02\", separator2 = \"\\x01\") {\n      return this.set_separated2(\"Value\", value, separator1, separator2);\n    }\n\n    /** BalloonOffset header (SHIORI/2.0) */\n    get BalloonOffset() {\n      return (this.get_separated2(\"BalloonOffset\", \"\\x01\", \",\") || []).map(value1 => value1.map(Number));\n    }\n\n    set BalloonOffset(value) {\n      this.set_separated2(\n        \"BalloonOffset\",\n        value.map(elems => elems.map(elem => elem.toString())),\n        \"\\x01\",\n        \",\",\n      );\n    }\n\n    /** Surface header (SHIORI/2.3b) */\n    get Surface() {\n      return (this.get_separated(\"Surface\", \",\") || []).map(Number);\n    }\n\n    set Surface(value) {\n      this.set_separated(\n        \"Surface\",\n        value.map(elem => elem.toString()),\n        \",\",\n      );\n    }\n\n    /** Sentence header (SHIORI/2.0,2.2,2.3b,2.4) */\n    get Sentence() {\n      return this.get(\"Sentence\");\n    }\n\n    set Sentence(value) {\n      this.set(\"Sentence\", value);\n    }\n\n    /** Word header (GET Word SHIORI/2.0) */\n    get Word() {\n      return this.get(\"Word\");\n    }\n\n    set Word(value) {\n      this.set(\"Word\", value);\n    }\n\n    /** Status header (GET Status SHIORI/2.0) */\n    get Status() {\n      return (this.get_separated(\"Status\", \",\") || []).map(Number);\n    }\n\n    set Status(value) {\n      this.set_separated(\n        \"Status\",\n        value.map(elem => elem.toString()),\n        \",\",\n      );\n    }\n\n    /** String header (GET String SHIORI/2.5) */\n    get String() {\n      return this.get(\"String\");\n    }\n\n    set String(value) {\n      this.set(\"String\", value);\n    }\n\n    /** Value header (GET SHIORI/3.0) */\n    get Value() {\n      return this.get(\"Value\");\n    }\n\n    set Value(value) {\n      this.set(\"Value\", value);\n    }\n  }\n}\n\nexport namespace Shiori {\n  /** Parse error */\n  export class ParseError extends Error {}\n\n  /** parser base class */\n  export abstract class Parser<Container> {\n    section: Section<string>;\n\n    result: Container;\n\n    parsers: { [name: string]: { abort_parse?(): void } };\n\n    is_parsing() {\n      return !this.section.is(\"idle\");\n    }\n\n    is_parsing_end() {\n      return !this.section.is(\"end\");\n    }\n\n    /**\n     * get parser result\n     * @return result\n     */\n    get_result() {\n      return this.result;\n    }\n\n    /**\n     * build result container\n     * @return empty result container\n     */\n    abstract result_builder(): Container;\n\n    /**\n     * set section state to first section\n     * @throw if before section != 'idle'\n     * @return section index\n     */\n    begin_parse() {\n      if (!this.section.is(\"idle\")) {\n        throw new ParseError(\"cannot begin parsing because previous transaction is still working\");\n      }\n      this.result = this.result_builder();\n\n      return this.section.next();\n    }\n\n    /**\n     * set section state to begining section\n     * @throw if before section != 'end'\n     * @return section index\n     */\n    end_parse() {\n      if (!this.section.is(\"end\")) {\n        this.abort_parse();\n        throw new ParseError(\"parsing was aborted\");\n      }\n\n      return this.section.next();\n    }\n\n    /**\n     * set section state to begining section FORCE!\n     *\n     * @note recursively abort parsing\n     * @return section index\n     */\n    abort_parse() {\n      if (this.parsers != null) {\n        // forin for compatibility\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\n        for (const name in this.parsers) {\n          const parser = this.parsers[name];\n          if (parser.abort_parse != null) {\n            parser.abort_parse();\n          }\n        }\n      }\n\n      return this.section.set(\"idle\");\n    }\n\n    /**\n     * parse a transaction\n     * @param transaction complete transaction\n     * @return parse_chunk()'s one result\n     * @throw if transaction is not complete\n     */\n    parse(transaction: string) {\n      this.begin_parse();\n      const result = this.parse_chunk(transaction);\n      if (this.is_parsing()) {\n        throw new ParseError(\"transaction is not closed\");\n      }\n      if (result.results.length !== 1) {\n        throw new ParseError(\"multiple transaction\");\n      }\n\n      return result.results[0];\n    }\n\n    /**\n     * parse transaction chunk\n     * @param chunk transaction chunk\n     * @return parse_lines()'s results\n     */\n    parse_chunk(chunk: string) {\n      const lines = chunk.split(/\\r\\n/);\n      if (chunk.match(/\\r\\n$/)) {\n        lines.pop();\n      }\n\n      return this.parse_lines(lines);\n    }\n\n    /**\n     * parse chunk lines\n     * @param lines transaction chunk separated by \\r\\n\n     * @return results: parse_line()'s result, state: parser state\n     */\n    parse_lines(lines: string[]) {\n      let result: { result?: undefined; state: \"continue\" } | { result: Container; state: \"end\" } | undefined;\n      const results = [];\n      // eslint-disable-next-line no-restricted-syntax\n      for (const line of lines) {\n        result = this.parse_line(line);\n        if (result.state === \"end\") {\n          results.push(result.result);\n        }\n      }\n      if (!result) throw new ParseError(\"must provide at least one lines\");\n\n      return {\n        results,\n        state: result.state,\n      };\n    }\n\n    /**\n     * parse line\n     * @param line transaction line separated by \\r\\n\n     * @return results: result (if state is end), state: parser state\n     */\n    parse_line(line: string): { result?: undefined; state: \"continue\" } | { result: Container; state: \"end\" } {\n      if (this.section.is(\"idle\")) {\n        this.begin_parse();\n      }\n      this.parse_main(line);\n      if (this.section.is(\"end\")) {\n        this.end_parse();\n\n        return {\n          result: this.get_result(),\n          state: \"end\",\n        };\n      }\n      return {\n        state: \"continue\",\n      };\n    }\n\n    /**\n     * parser main routine\n     */\n    abstract parse_main(line: string): void;\n  }\n\n  /** parser section state manager */\n  export class Section<S extends string> {\n    readonly sections: S[];\n\n    private index = 0;\n\n    constructor(sections: S[]) {\n      this.sections = sections;\n    }\n\n    is(section: S) {\n      return this.sections[this.index] === section;\n    }\n\n    next() {\n      if (this.index === this.sections.length - 1) {\n        // eslint-disable-next-line no-return-assign\n        return (this.index = 0);\n      }\n      return this.index++;\n    }\n\n    previous() {\n      if (this.index === 0) {\n        // eslint-disable-next-line no-return-assign\n        return (this.index = this.sections.length - 1);\n      }\n      return this.index--;\n    }\n\n    set(section: S) {\n      // eslint-disable-next-line no-return-assign\n      return (this.index = this.sections.indexOf(section));\n    }\n\n    get() {\n      return this.sections[this.index];\n    }\n  }\n\n  export namespace Header {\n    // eslint-disable-next-line no-shadow\n    export abstract class Parser<Container extends Headers> extends Shiori.Parser<Container> {\n      parse_main(line: string) {\n        const result = this.parse_header(line);\n        if (result.state === \"end\") {\n          this.section.next();\n        }\n      }\n\n      parse_header(line: string) {\n        if (line.length) {\n          const result = line.match(/^(.+?): (.*)$/);\n          if (result) {\n            // eslint-disable-next-line prefer-destructuring\n            this.result.header[result[1]] = result[2];\n          } else {\n            throw new ParseError(`Invalid header line : ${line}`);\n          }\n\n          return {\n            state: \"continue\",\n          };\n        }\n        return {\n          state: \"end\",\n        };\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    export class Section extends Shiori.Section<\"idle\" | \"header\" | \"end\"> {\n      constructor(sections = [\"idle\", \"header\", \"end\"] as [\"idle\", \"header\", \"end\"]) {\n        super(sections);\n      }\n    }\n  }\n\n  export namespace Request {\n    /** SHIORI Request parser */\n    // eslint-disable-next-line no-shadow\n    export class Parser extends Shiori.Parser<Message.Request> {\n      parsers = {\n        request_line: new RequestLine.Parser(),\n        headers: new Header.Parser(),\n      };\n\n      section = new Section();\n\n      // eslint-disable-next-line class-methods-use-this\n      result_builder() {\n        return new Message.Request({\n          no_prepare: true,\n        });\n      }\n\n      parse_main(line: string) {\n        const section = this.section.get() as \"request_line\" | \"headers\";\n        const parser = this.parsers[section];\n        const parser_result = parser.parse_line(line);\n        if (parser_result.state === \"end\") {\n          this.result[section] = parser_result.result as Headers.Request & RequestLine;\n          this.section.next();\n        }\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    export namespace RequestLine {\n      // eslint-disable-next-line no-shadow\n      export class Parser {\n        result: RequestLine;\n\n        // eslint-disable-next-line class-methods-use-this\n        result_builder() {\n          return new RequestLineClass();\n        }\n\n        parse(transaction: string) {\n          return this.parse_chunk(transaction);\n        }\n\n        parse_chunk(chunk: string) {\n          return this.parse_line(chunk);\n        }\n\n        parse_line(line: string): { result: RequestLine; state: \"end\" } {\n          const result = line.match(/^([A-Za-z0-9 ]+) SHIORI\\/([0-9.]+)/);\n          if (!result) {\n            throw new ParseError(`Invalid request line : ${line}`);\n          }\n          this.result = this.result_builder();\n          this.result.method = result[1] as Method;\n          this.result.protocol = \"SHIORI\";\n          this.result.version = result[2] as Version;\n\n          return {\n            result: this.result,\n            state: \"end\",\n          };\n        }\n\n        // eslint-disable-next-line class-methods-use-this, no-empty-function, @typescript-eslint/no-empty-function\n        abort_parse() {}\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    export namespace Header {\n      // eslint-disable-next-line no-shadow\n      export class Parser extends Shiori.Header.Parser<Headers.Request> {\n        constructor() {\n          super();\n          this.section = new Section();\n        }\n\n        // eslint-disable-next-line class-methods-use-this\n        result_builder() {\n          return new Headers.Request();\n        }\n      }\n\n      export class Section extends Shiori.Header.Section {}\n    }\n\n    // eslint-disable-next-line no-shadow\n    export class Section extends Shiori.Section<\"idle\" | \"request_line\" | \"headers\" | \"end\"> {\n      constructor(sections = [\"idle\", \"request_line\", \"headers\", \"end\"] as [\"idle\", \"request_line\", \"headers\", \"end\"]) {\n        super(sections);\n      }\n    }\n  }\n\n  export namespace Response {\n    /** SHIORI Response parser */\n    // eslint-disable-next-line no-shadow\n    export class Parser extends Shiori.Parser<Message.Response> {\n      parsers = {\n        status_line: new StatusLine.Parser(),\n        headers: new Header.Parser(),\n      };\n\n      section = new Section();\n\n      // eslint-disable-next-line class-methods-use-this\n      result_builder() {\n        return new Message.Response({\n          no_prepare: true,\n        });\n      }\n\n      parse_main(line: string) {\n        const section = this.section.get() as \"status_line\" | \"headers\";\n        const parser = this.parsers[section];\n        const parser_result = parser.parse_line(line);\n        if (parser_result.state === \"end\") {\n          this.result[section] = parser_result.result as Headers.Response & StatusLine;\n          this.section.next();\n        }\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    export namespace StatusLine {\n      // eslint-disable-next-line no-shadow\n      export class Parser {\n        result: StatusLine;\n\n        // eslint-disable-next-line class-methods-use-this\n        result_builder() {\n          return new StatusLineClass();\n        }\n\n        parse(transaction: string) {\n          return this.parse_chunk(transaction);\n        }\n\n        parse_chunk(chunk: string) {\n          return this.parse_line(chunk);\n        }\n\n        parse_line(line: string): { result: StatusLine; state: \"end\" } {\n          const result = line.match(/^SHIORI\\/([0-9.]+) (\\d+) (.+)$/);\n          if (!result) {\n            throw new ParseError(`Invalid status line : ${line}`);\n          }\n          this.result = this.result_builder();\n          this.result.protocol = \"SHIORI\";\n          this.result.version = result[1] as Version;\n          this.result.code = Number(result[2]);\n\n          return {\n            result: this.result,\n            state: \"end\",\n          };\n        }\n\n        // eslint-disable-next-line class-methods-use-this, no-empty-function, @typescript-eslint/no-empty-function\n        abort_parse() {}\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    export namespace Header {\n      // eslint-disable-next-line no-shadow\n      export class Parser extends Shiori.Header.Parser<Headers.Response> {\n        constructor() {\n          super();\n          this.section = new Section();\n        }\n\n        // eslint-disable-next-line class-methods-use-this\n        result_builder() {\n          return new Headers.Response();\n        }\n      }\n\n      export class Section extends Shiori.Header.Section {}\n    }\n\n    // eslint-disable-next-line no-shadow\n    export class Section extends Shiori.Section<\"idle\" | \"status_line\" | \"headers\" | \"end\"> {\n      constructor(sections = [\"idle\", \"status_line\", \"headers\", \"end\"] as [\"idle\", \"status_line\", \"headers\", \"end\"]) {\n        super(sections);\n      }\n    }\n  }\n}\n"],"sourceRoot":""}